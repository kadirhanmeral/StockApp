"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8211],{64818:function(e,t,n){n.d(t,{J:function(){return u}});var r=n(57437),a=n(85169);n(2265);var i=n(91606),s=n(23328),o=n(27806),l=n(81149);let u=e=>{let{variant:t="secondary",size:n="icon-md",onClick:u,...c}=e,d=(0,i.O_)(),{setTheme:p,resolvedTheme:x}=(0,a.F)();return d?(0,r.jsx)(l.z,{size:n,variant:t,...c,onClick:e=>{null==u||u(e),p("light"===x?"dark":"light")},children:"light"===x?(0,r.jsx)(s.k,{}):(0,r.jsx)(o.N,{})}):null}},89216:function(e,t,n){n.d(t,{K:function(){return r},r:function(){return a}});let r={ANDROID:1,IOS:2,WEB:3,UNIVERSAL:null},a={FREE:0,SUBSCRIPTION:1,TOPUP:2}},54362:function(e,t,n){n.d(t,{PricingModalCTA:function(){return c}});var r=n(57437),a=n(16463),i=n(2265),s=n(63218),o=n(54012),l=n(81750),u=n(81149);let c=(0,i.forwardRef)((e,t)=>{let{onClick:n,...i}=e,c=(0,o.k)(e=>e.open),d=(0,l.m8)()(e=>e.user),p=!!(null==d?void 0:d.id),x=(0,a.useRouter)();return(0,r.jsx)(u.z,{type:"button",ref:t,...i,onClick:e=>{if(!p){x.push(s.H7.TOOLS_AUTH);return}null==n||n(e),c()}})});c.displayName="PricingModalCTA"},76111:function(e,t,n){n.d(t,{BuyMoreTokensModalCTA:function(){return o}});var r=n(57437),a=n(2265),i=n(24030),s=n(81149);let o=(0,a.forwardRef)((e,t)=>{let{onClick:n,...a}=e,o=(0,i.n)(e=>e.open);return(0,r.jsx)(s.z,{type:"button",ref:t,...a,onClick:e=>{null==n||n(e),o()}})});o.displayName="BuyMoreTokensModalCTA"},12536:function(e,t,n){n.d(t,{L:function(){return U}});var r=n(57437),a=n(6498),i=n(75942),s=n(81750),o=n(14125),l=n(95401),u=n(87138),c=n(63218),d=n(12835),p=n(81149),x=n(76111),m=n(62737),f=n.n(m),h=n(89960),v=n.n(h),g=n(8558),y=n.n(g),O=n(2265);f().extend(v()),f().extend(y());let k=()=>{let[e,t]=(0,O.useState)("--h --m --s");return(0,O.useEffect)(()=>{let e=setInterval(()=>{let e=f()().utc(),n=e.endOf("day").utc().add(1,"day").startOf("day").diff(e);t(f().duration(n).format("H[h] m[m] s[s]"))},1e3);return()=>clearInterval(e)},[]),(0,r.jsx)("span",{className:"w-[90px] text-start",children:e})},N=e=>{var t,n;let i,{children:m}=e,f=(0,s.m8)()(e=>e.subscription),{isSubscriptionActive:h}=(0,o.L)(f),v=(0,a.j)(),g=null!==(n=null===(t=v.data)||void 0===t?void 0:t.platformSpecificTotal)&&void 0!==n?n:0;return i=!v.isLoading&&0===g&&void 0,(0,r.jsx)(l.WithGenericTooltip,{content:(0,r.jsxs)("div",{className:"flex flex-col gap-3 text-center",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-0.5 text-center",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-neutral-0 transition-colors duration-500 dark:text-neutral-900",children:"Not enough tokens"}),(0,r.jsx)("span",{className:"text-xs font-normal leading-[18px] text-neutral-40 transition-colors duration-500 dark:text-neutral-600",children:h?"You don’t have enough tokens to perform generations. Top up your existing tokens to continue.":"You don’t have enough tokens to perform generations. Tokens replenish every 24 hours."})]}),!h&&(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm font-semibold",children:[(0,r.jsx)(d.wZ,{className:"size-[18px] stroke-current stroke-[1.5]",hasGradient:!0}),(0,r.jsx)(k,{})]}),h?(0,r.jsx)(x.BuyMoreTokensModalCTA,{className:"w-full",size:"sm",children:"Buy tokens"}):(0,r.jsx)(p.z,{className:"w-full",asChild:!0,size:"sm",children:(0,r.jsxs)(u.default,{href:c.H7.SUBSCRIPTION,children:[(0,r.jsx)(d.CE,{className:"mr-2 size-5"}),(0,r.jsx)("span",{children:"Upgrade Plan"})]})})]}),variant:"hint",genericTooltipContentProps:{align:"end",sideOffset:6,className:"transition-colors duration-500 p-4 rounded-xl max-w-[260px]"},genericTooltipProps:{disableHoverableContent:!1,open:i},children:m})};var T=n(12218),w=n(36890),b=n(24528);let P=(0,T.j)("flex h-8 items-center gap-0.5 overflow-hidden rounded-[10px] bg-neutral-20 px-2 py-1 text-sm font-medium text-neutral-900 transition-colors duration-500 dark:bg-neutral-800 dark:text-neutral-0",{variants:{variant:{v1:"bg-neutral-20 dark:bg-neutral-800",v2:"bg-neutral-20 dark:bg-neutral-700"}},defaultVariants:{variant:"v1"}}),S=O.forwardRef((e,t)=>{let{tokenCount:n,className:a,variant:i,...s}=e;return(0,r.jsx)("div",{className:"flex h-fit w-fit flex-col",...s,ref:t,children:(0,r.jsxs)("div",{className:(0,b.cn)(P({className:a,variant:i})),children:[(0,r.jsx)("span",{children:w.t.format(n)}),(0,r.jsx)(d.Ss,{className:"size-[15px]"})]})})});S.displayName="TokenContent";var j=n(80732),C=n(96994),A=n(85951);let E=e=>{var t,n,a;let{children:i,trigger:x,variant:m}=e,{page:f,source:h}=(0,C.V)(),{aggregator:v}=(0,A.O)(),g=(0,s.m8)()(e=>e.subscription),{stripeSubscription:y,isSubscriptionActive:O}=(0,o.L)(g),N=null==y?void 0:null===(n=y.StripePrice)||void 0===n?void 0:null===(t=n.StripeProduct)||void 0===t?void 0:t.name,T=null==y?void 0:null===(a=y.StripePrice)||void 0===a?void 0:a.billingInterval,w=O?"Premium":"Free";return(0,r.jsx)(l.WithGenericTooltip,{content:(0,r.jsxs)("div",{className:"flex flex-col gap-3 text-center",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-0.5 text-center",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-neutral-0 transition-colors duration-500 dark:text-neutral-900",children:"Tokens Replenishment"}),(0,r.jsx)("span",{className:"text-xs font-normal leading-[18px] text-neutral-40 transition-colors duration-500 dark:text-neutral-600",children:"Tokens replenish every 24 hours."})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm font-semibold",children:[(0,r.jsx)(d.wZ,{className:"size-[18px] stroke-current stroke-[1.5]",hasGradient:!0}),(0,r.jsx)(k,{})]}),(0,r.jsx)(p.z,{className:"w-full",asChild:!0,size:"sm",onClick:()=>{v.log(j.H.clevertap.click.withProperties({page_name:f,source:h,user_account_status:w,user_plan:N,user_plan_period:T,trigger:x,variant:m}))},children:(0,r.jsxs)(u.default,{href:c.H7.SUBSCRIPTION,children:[(0,r.jsx)(d.CE,{className:"mr-2 size-5"}),(0,r.jsx)("span",{children:"Upgrade Plan"})]})})]}),variant:"hint",genericTooltipContentProps:{align:"end",sideOffset:6,className:"transition-colors duration-500 p-4 rounded-xl max-w-[260px]"},genericTooltipProps:{disableHoverableContent:!1},children:i})},I=e=>(0,r.jsx)(l.WithGenericTooltip,{content:"Login to see your tokens",children:(0,r.jsx)(S,{tokenCount:0,...e})}),R=e=>{var t,n,u,c,d;let{trigger:p,triggerVariant:x,...m}=e,f=(0,a.j)(),h=(0,s.m8)()(e=>e.subscription),{data:v}=(0,i.OJ)(),{isSubscriptionActive:g}=(0,o.L)(h),y=null!==(c=null==v?void 0:null===(n=v.weekly)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.maxQuantity)&&void 0!==c?c:50,O=null!==(d=null===(u=f.data)||void 0===u?void 0:u.platformSpecificTotal)&&void 0!==d?d:0;return!g&&O<=y&&O>0?(0,r.jsx)(E,{trigger:p,variant:x,children:(0,r.jsx)(S,{tokenCount:O,...m})}):(0,r.jsx)("div",{children:O>999?(0,r.jsx)(l.WithGenericTooltip,{content:O,children:(0,r.jsx)(S,{tokenCount:O,...m})}):(0,r.jsx)(N,{children:(0,r.jsx)(S,{tokenCount:O,...m})})})},U=e=>(0,s.m8)()(e=>e.user)?(0,r.jsx)(R,{...e}):(0,r.jsx)(I,{...e})},6498:function(e,t,n){n.d(t,{X:function(){return x},j:function(){return p}});var r,a,i=n(51864),s=n(94046),o=n(81750),l=n(89216);let u=new Set([l.K.WEB,l.K.UNIVERSAL]),c=new Set([l.r.FREE,l.r.TOPUP]),d=async()=>{let e=await (0,s.VV)(),t=e.tokens.filter(e=>{let{platform:t}=e;return u.has(t)}).reduce((e,t)=>e+t.balance,0),n=e.tokens.filter(e=>{let{plan_id:t}=e;return c.has(t)}).reduce((e,t)=>e+t.balance,0);return{...e,platformSpecificTotal:t,nonSubscriptionTotal:n}};(r=a||(a={})).TOKEN_COUNT="TokenCount",r.TOKEN_CONSUMPTION_CONFIG="TokenConsumptionConfig";let p=()=>{let e=(0,o.m8)()(e=>e.user);return(0,i.useQuery)([a.TOKEN_COUNT],d,{enabled:!!e,staleTime:36e5})},x=()=>(0,i.useQuery)([a.TOKEN_CONSUMPTION_CONFIG],s.L5,{staleTime:36e5})},75942:function(e,t,n){n.d(t,{jk:function(){return U},OB:function(){return E},mW:function(){return _},wN:function(){return M},sm:function(){return I},OJ:function(){return C},sb:function(){return A},wp:function(){return z},YX:function(){return R}});var r,a,i=n(51864),s=n(89565),o=n(11971),l=n(44785),u=n(52479),c=n(52247),d=n(11141),p=n(70778);let x=new d.hE({baseURL:c.v.PAYMENT_API_URL,defaultHeadersGenerator:p.A}),m="/stripe/subscription",f=async e=>{let{data:t}=await x.get("".concat(m,"/recurring"),null==e?void 0:e.requestOptions,{throwOnError:!0});return t},h=async()=>{let{data:e}=await x.get("".concat(m,"/one_time"),null,{throwOnError:!0});return{result:e.result.sort((e,t)=>e.StripePrice[0].minQuantity-t.StripePrice[0].minQuantity)}},v=async e=>{let{data:t}=await x.post("".concat(m,"/update/next-period"),{body:e},{throwOnError:!0});return t},g=async e=>{let{data:t}=await x.post("".concat(m,"/update/immediately"),{body:e},{throwOnError:!0});return t},y=async e=>{let{data:t}=await x.get("".concat(m,"/proration/").concat(e),void 0,{throwOnError:!0});return t},O=async e=>{let{data:t}=await x.post("".concat(m,"/session-expire"),{body:{checkoutSessionId:e}},{throwOnError:!0});return t},k=async e=>{var t,n;let r=null!==(t=l.Z.get(u.Y.CAMPAIGN))&&void 0!==t?t:null,a=null!==(n=l.Z.get(u.Y.TERM))&&void 0!==n?n:null,{data:i}=await x.post("".concat(m,"/checkout"),{params:{priceId:e,quantity:encodeURIComponent(1),...r?{campaign:encodeURIComponent(r)}:{},...a?{term:encodeURIComponent(a)}:{}}},{throwOnError:!0});return i},N=async e=>{let{data:t}=await x.post("".concat(m,"/checkout/top-up"),{params:{priceId:e,quantity:encodeURIComponent(1)}},{throwOnError:!0});return t},T=async()=>{let{data:e}=await x.post("".concat(m,"/billing-portal"),null,{throwOnError:!0});return e};var w=n(81750),b=n(18431);(r=a||(a={})).SUBSCRIPTION_PRODUCT="SubscriptionProduct",r.CALCULATE_PRORATION="CalculateProration",r.TOP_UPS="TopUps";let P={[b.Sz.STANDARD]:{heading:"What’s included",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!1,"Early Access to new features":!1}},[b.Sz.PREMIUM]:{heading:"All Professional features, plus",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!0,"Early Access to new features":!0}},[b.Sz.PROFESSIONAL]:{heading:"All Standard features, plus",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!0,"Early Access to new features":!1}}},S=[b.Sz.STANDARD,b.Sz.PREMIUM,b.Sz.PROFESSIONAL],j={[b.Sz.STANDARD]:"For newcomers exploring, with limited features and image generation.",[b.Sz.PREMIUM]:"Seamless Android & Web access, expanded capabilities.",[b.Sz.PROFESSIONAL]:"Serious users for personal/commercial images."},C=()=>(0,i.useQuery)([a.SUBSCRIPTION_PRODUCT],async()=>{let e=(await f()).result.flatMap(e=>e.StripePrice.map(t=>({id:t.id,isPopular:e.name===b.Sz.PREMIUM,billingInterval:t.billingInterval,name:e.name,stripePriceId:t.stripePriceId,price:t.price,priceType:t.priceType,currency:t.currency,offering:P[e.name],description:j[e.name],maxQuantity:t.maxQuantity,minQuantity:t.minQuantity,priceDetails:t.priceDetails}))),t=(0,o.vM)(e,"billingInterval");return(0,o.Xc)(t,e=>(0,o.MR)(e,e=>S.indexOf(e.name)))},{staleTime:36e5}),A=()=>{let e=(0,w.m8)()(e=>e.user);return(0,i.useQuery)([a.TOP_UPS],h,{enabled:!!e,staleTime:36e5})},E=()=>(0,s.useMutation)(v),I=()=>(0,s.useMutation)(O),R=()=>(0,s.useMutation)(g),U=e=>(0,i.useQuery)([a.CALCULATE_PRORATION,e],e=>y(e.queryKey[1]),{enabled:!!e}),_=()=>(0,s.useMutation)(k),M=()=>(0,s.useMutation)(N),z=()=>(0,s.useMutation)(T)},84343:function(e,t,n){n.d(t,{j:function(){return r}});let r=(0,n(12218).j)(void 0,{variants:{mode:{"with-slots":"focus-within:!bg-neutral-20 dark:focus-within:!bg-neutral-800","no-slots":""},lightVariant:{"light-v1":"light-v1 bg-neutral-20 hover:bg-neutral-30 focus:bg-neutral-20","light-v2":"light-v2 bg-neutral-0 focus:bg-neutral-0 shadow-[0px_10px_15px_0px_rgba(0,0,0,0.03)] hover:shadow-[0px_10px_15px_0px_rgba(0,0,0,0.08)]"},darkVariant:{"dark-v1":"dark-v1 dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:focus:bg-neutral-800","dark-v2":"dark-v2 dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:focus:bg-neutral-700"},size:{sm:"sm h-8 px-2.5 py-[7px] rounded-[10px] text-xs",md:"md h-10 px-3.5 py-2.5 rounded-xl text-sm",lg:"lg h-11 px-3.5 py-3 rounded-xl text-sm",xl:"xl h-[52px] p-3.5 rounded-[14px] text-md"}},defaultVariants:{size:"md",lightVariant:"light-v1",darkVariant:"dark-v1",mode:"no-slots"}})},94046:function(e,t,n){n.d(t,{xv:function(){return u},L5:function(){return l},VV:function(){return o}});var r=n(52247),a=n(11141),i=n(70778);let s=new a.hE({baseURL:r.v.ANPU_API_URL,defaultHeadersGenerator:i.A}),o=async()=>{let{data:e}=await s.get("/credit",void 0,{throwOnError:!0});return e},l=async()=>{let{data:e}=await s.get("/cost",void 0,{throwOnError:!0});return e},u=async e=>{let{data:t}=await s.get("/session",null==e?void 0:e.requestOptions,{throwOnError:!0});return t}},24030:function(e,t,n){n.d(t,{n:function(){return r}});let r=(0,n(39099).Ue)()(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t}),open:()=>e({isOpen:!0})}))},54012:function(e,t,n){n.d(t,{k:function(){return r}});let r=(0,n(39099).Ue)()(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t}),open:()=>e({isOpen:!0})}))},36890:function(e,t,n){n.d(t,{t:function(){return r}});let r=Intl.NumberFormat("en",{notation:"compact"})}}]);