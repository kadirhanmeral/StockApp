"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4364],{579:function(e,t,a){a.d(t,{i:function(){return s}});var n=a(57437),r=a(12218),l=a(24528);let i=(0,r.j)("transition-all duration-500",{variants:{orientation:{horizontal:"h-px w-full",vertical:"w-px h-full"},variant:{v1:"bg-neutral-20 dark:bg-neutral-700",v2:"bg-neutral-30 dark:bg-neutral-600",v3:"bg-neutral-30 dark:bg-neutral-700"}},defaultVariants:{orientation:"horizontal",variant:"v1"}}),s=e=>{let{className:t,orientation:a,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,l.cn)(i({orientation:a,className:t,variant:r})),...s})}},29865:function(e,t,a){a.d(t,{S:function(){return d}});var n=a(57437),r=a(71538),l=a(12218),i=a(2265),s=a(24528);let o=(0,l.j)("rounded-[18px] bg-neutral-0 p-6 shadow-[0px_10px_20px_rgba(0,0,0,0.05)] transition-all duration-500 dark:bg-neutral-800 dark:shadow-none",{variants:{variant:{simple:"",selectable:"dark:hover:bg-neutral-700 hover:shadow-[0px_10px_20px_rgba(0,0,0,0.08)] cursor-pointer"}},defaultVariants:{variant:"simple"}}),d=i.forwardRef((e,t)=>{let{className:a,variant:l,asChild:i,...d}=e,c=i?r.g7:"div";return(0,n.jsx)(c,{ref:t,className:(0,s.cn)(o({variant:l,className:a})),...d})});d.displayName="GenericCard"},83359:function(e,t,a){a.d(t,{$E:function(){return c},$c:function(){return u},DQ:function(){return h},Yk:function(){return f},Zh:function(){return x},_w:function(){return g},mp:function(){return b},vb:function(){return y}});var n=a(57437),r=a(13304),l=a(2265),i=a(12835),s=a(47802),o=a(81149),d=a(24528);let c=r.fC,u=r.xz,m=e=>{let{...t}=e;return(0,n.jsx)(r.h_,{...t})};m.displayName=r.h_.displayName;let p=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black bg-opacity-70 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});p.displayName=r.aV.displayName;let x=e=>{let{btnProps:t={},...a}=e,{className:l,variant:s="ghost-secondary",size:c="icon-sm",...u}=t;return(0,n.jsx)(o.z,{variant:s,size:c,className:(0,d.cn)("absolute right-2 top-2",l),asChild:!0,...u,children:(0,n.jsxs)(r.x8,{...a,children:[(0,n.jsx)(i.aM,{className:"size-[18px] stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})})};x.displayName=r.x8.displayName;let f=l.forwardRef((e,t)=>{let{className:a,children:l,onModalClose:i,onCloseAutoFocus:o,disableAnimation:c=!1,container:u=(0,s.Ep)().isBrowser?document.body:null,overlayClassName:x,...f}=e;return(0,n.jsxs)(m,{container:u,children:[(0,n.jsx)(p,{className:x}),(0,n.jsx)(r.VY,{onCloseAutoFocus:e=>{null==i||i(),null==o||o(e)},ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 flex translate-x-[-50%] translate-y-[-50%] flex-col justify-between rounded-[18px] bg-neutral-0 text-neutral-600 shadow-lg transition-all duration-200 dark:bg-neutral-900 dark:text-neutral-40",{"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]":!c},a),...f,children:l})]})});f.displayName=r.VY.displayName;let g=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,d.cn)("flex h-12 flex-col justify-center gap-1 border-b border-neutral-20 p-2 pl-4 transition-all duration-500 dark:border-neutral-800",t),...a})};g.displayName="GenericModalHeader";let h=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,d.cn)("flex h-full flex-1 flex-col gap-1",t),...a})};h.displayName="GenericModalBody";let y=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,d.cn)("flex h-fit items-center justify-end p-6 pt-0",t),...a})};y.displayName="GenericModalFooter";let b=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.Dx,{ref:t,className:(0,d.cn)("font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0",a),...l})});b.displayName=r.Dx.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.dk,{ref:t,className:(0,d.cn)("text-sm text-neutral-600 dark:text-neutral-40",a),...l})}).displayName=r.dk.displayName},86759:function(e,t,a){a.d(t,{A:function(){return l}});var n=a(57437),r=a(24528);let l=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-neutral-40 dark:bg-neutral-600",t),...a})}},34468:function(e,t,a){a.d(t,{GenericTab:function(){return o},GenericTabContent:function(){return m},GenericTabList:function(){return d},GenericTabTrigger:function(){return c},p:function(){return u}});var n=a(57437),r=a(62447),l=a(16526),i=a(2265),s=a(24528);let o=r.fC,d=i.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,s.cn)("inline-flex w-full items-center justify-start gap-2",a),...l})});d.displayName=r.aV.displayName;let c=i.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.xz,{ref:t,className:(0,s.cn)("inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-neutral-30 data-[state=active]:text-neutral-900 dark:text-neutral-40 dark:data-[state=active]:bg-neutral-700 dark:data-[state=active]:text-neutral-0",a),...l})});c.displayName=r.xz.displayName;let u=i.forwardRef((e,t)=>{let{className:a,children:i,isActive:o=!1,layoutId:d,activeProps:c={},...u}=e,{className:m,...p}=c;return(0,n.jsxs)(r.xz,{ref:t,className:(0,s.cn)("relative inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-40",a),...u,children:[o&&(0,n.jsx)(l.E.span,{layoutId:d,className:(0,s.cn)("absolute inset-0 rounded-xl bg-neutral-0 text-neutral-900 shadow-[0px_3px_1px_0px_rgba(0,_0,_0,_0.04),_0px_3px_8px_0px_rgba(0,_0,_0,_0.12)] dark:bg-neutral-800 dark:text-neutral-0",m),transformTemplate:(e,t)=>{var a;let[,n]=null!==(a=t.match(/translate3d\(([^,]+),/))&&void 0!==a?a:[];return n?"translateX(".concat(n,")"):t},transition:{type:"spring",bounce:.2,duration:.6},...p}),i]})});u.displayName=r.xz.displayName;let m=i.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(r.VY,{ref:t,className:a,...l})});m.displayName=r.VY.displayName},35273:function(e,t,a){a.d(t,{X7:function(){return R},h_:function(){return I},R9:function(){return C}});var n=a(57437),r=a(2265),l=a(80732),i=a(96994),s=a(75942),o=a(85951),d=a(18741),c=a(81750),u=a(18431),m=a(36805),p=a(14125),x=a(82442),f=a(16463),g=a(579),h=a(29865),y=a(34124),b=a(10733),v=a(43664),_=a(36890),w=a(81149),N=a(24528),j=a(12835);let k=e=>{let{name:t,description:a,creditsQuantity:r}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-3 [.modal_&]:gap-2",children:[(0,n.jsxs)("div",{className:"flex h-8 items-center justify-between [.modal_&]:h-6",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold text-neutral-900 transition-all duration-500 dark:text-neutral-0 [.modal_&]:text-base [.modal_&]:font-semibold",children:t}),(0,n.jsx)("div",{className:"grid h-full place-items-center rounded-xl bg-gradient-to-r from-[#9C4FFF] to-[#674FFF] p-px [.modal_&]:rounded-[10px]",children:(0,n.jsxs)("div",{className:"inline-flex h-full w-full items-center justify-start gap-0.5 rounded-[11px] bg-neutral-20 px-2 text-center text-base font-medium text-neutral-900 transition-all duration-500 dark:bg-neutral-700 dark:text-neutral-0 [.modal_&]:rounded-[9px] [.modal_&]:text-sm",children:[(0,n.jsx)("p",{children:r}),(0,n.jsx)(j.Ss,{className:"size-[15px] [.modal_&]:size-3.5"})]})})]}),(0,n.jsx)("p",{className:"text-sm text-neutral-600 transition-all duration-500 dark:text-neutral-40 [.modal_&]:text-xs",children:a})]})};var S=a(8792);let P=e=>{let{offering:t}=e;return(0,n.jsxs)("div",{className:"mb-[42px] flex flex-col gap-3 [.modal_&]:mb-0",children:[(0,n.jsx)("h4",{className:"font-semibold text-neutral-900 transition-all duration-500 dark:text-neutral-0 [.modal_&]:text-xs [.modal_&]:leading-[16px]",children:t.heading}),(0,n.jsx)("ul",{className:"flex flex-col gap-2",children:Object.keys(t.listings).map(e=>{let a=t.listings[e];return(0,n.jsxs)("li",{className:"flex items-center gap-1.5",children:[a?(0,n.jsx)(S.Ye,{className:"size-[18px] stroke-[1.75] text-success-600 dark:text-success-400 [.modal_&]:size-4 [.modal_&]:stroke-[1.5]"}):(0,n.jsx)(S.aM,{className:"size-[18px] stroke-[2] text-error-600 dark:text-error-400 [.modal_&]:size-4 [.modal_&]:stroke-[1.5]"}),(0,n.jsx)("span",{className:(0,N.cn)("text-sm font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0 [.modal_&]:text-xs [.modal_&]:font-normal [.modal_&]:leading-[18px]",{"text-neutral-80 dark:text-neutral-200":!a}),children:e})]},e)})})]})},A=e=>{let{billingInterval:t,discountTag:a,originalPrice:r,cutOffPrice:l,pricingPeriod:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mt-4 flex items-center gap-2 [.modal_&]:mt-auto",children:[(0,n.jsxs)("span",{className:"text-[60px] font-semibold leading-[72px] text-neutral-900 transition-all duration-500 dark:text-neutral-0 [.modal_&]:text-5xl [.modal_&]:leading-[60px]",children:["$",r]}),(0,n.jsxs)("div",{className:"flex flex-col items-start justify-center",children:[(0,n.jsxs)("span",{className:"text-xl font-medium leading-[30px] text-primary-700 line-through transition-all duration-500 dark:text-primary-200 [.modal_&]:text-lg [.modal_&]:leading-[18px]",children:["$",l]}),(0,n.jsxs)("span",{className:"text-base font-medium text-neutral-600 transition-all duration-500 dark:text-neutral-40 [.modal_&]:text-sm",children:["/",i]})]})]}),(0,n.jsxs)("div",{className:"flex flex-row gap-1 pt-1 text-xs font-medium leading-[18px] text-primary-700 transition-colors duration-500 dark:text-primary-200 [.modal_&]:text-[11px] [.modal_&]:leading-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-center rounded-lg bg-primary-500 bg-opacity-[0.15] px-2 py-1",children:(0,n.jsxs)("p",{children:["Billed ",t]})}),(0,n.jsxs)("div",{className:"flex items-center justify-center rounded-lg bg-primary-500 bg-opacity-[0.15] px-2 py-1 ",children:[(0,n.jsx)(j.qO,{}),(0,n.jsx)("p",{children:a})]})]})]})},E=e=>{let{to:t,btnText:a,eventId:l,isHighlighted:i=!1,isPendingPlanChange:s=!1,subscriptionPlan:o,onClickHandler:d}=e,c=(0,f.useRouter)(),[u,m]=r.useState(!1),{Weekly:p,Yearly:x}=(0,b.Td)()(e=>e.percentages),j=async()=>{m(!0);try{null!==l&&(v.c.triggerEventUsingElementId(l.normalEvent),v.c.triggerEventUsingElementId(l.campaignEvent,void 0,{subscription_price:o.price})),await d(),t&&c.push(t,{scroll:!1})}catch(e){}m(!1)};return(0,n.jsx)(h.S,{className:(0,N.cn)("h-full max-h-[629px] overflow-hidden rounded-[18px] p-0 mobile:w-full lg:w-[276px] 2xl:w-[350px] [.modal_&]:max-h-[471px] [.modal_&]:w-[262px] [.modal_&]:rounded-xl [.modal_&]:shadow-[0px_4px_20px_0px_rgba(0,0,0,0.08)]",{"dark:[.modal_&]:shadow-none":!i,"bg-gradient-to-r from-[#9C4FFF] to-[#674FFF] p-0.5 [.modal_&]:p-px":i}),children:(0,n.jsxs)(h.S,{className:"group flex h-full w-full flex-col rounded-2xl [.modal_&]:rounded-[11px]",children:[(0,n.jsx)(k,{name:o.name,description:o.description,creditsQuantity:_.t.format(o.maxQuantity)}),(0,n.jsx)(A,{cutOffPrice:(()=>{let{billingInterval:e,price:t}=o;return"yearly"===e?Math.floor(t/12/(1-x/100)):Math.floor(t/(1-p/100))})(),billingInterval:o.billingInterval,originalPrice:"yearly"===o.billingInterval?Math.floor(o.price/12):o.price,pricingPeriod:"yearly"===o.billingInterval?"month":o.billingInterval.split("ly")[0],discountTag:"yearly"===o.billingInterval?"".concat(x,"% off"):"".concat(p,"% off")}),(0,n.jsx)(w.z,{size:"xl",onClick:j,disabled:s||u,variant:i?"primary":"secondary",className:(0,N.cn)("mt-6 w-full [.modal_&]:hidden",{"pointer-events-none":s}),children:u?(0,n.jsx)(y.$,{className:"size-5"}):a}),(0,n.jsx)(g.i,{className:"my-[34px] [.modal_&]:mb-3 [.modal_&]:mt-4"}),(0,n.jsx)(P,{offering:o.offering}),(0,n.jsx)(w.z,{size:"md",onClick:j,disabled:s||u,variant:i?"primary":"secondary",className:(0,N.cn)("mt-[19px] hidden w-full [.modal_&]:inline-flex",{"pointer-events-none":s}),children:u?(0,n.jsx)(y.$,{className:"size-4"}):a})]})})},C=e=>{let{result:{url:t}}=e;window.open(t,"_self")},I=e=>{e instanceof Error?x.Am.error(e.message):"object"==typeof e&&null!==e&&"message"in e?"string"==typeof e.message&&x.Am.error(e.message):x.Am.error("Something went wrong while redirecting")},R=e=>{var t,a;let{data:r,revokeActionHandler:x,selectedInterval:f}=e,{aggregator:g}=(0,o.O)(),{page:h}=(0,i.V)(),y=(0,c.m8)()(e=>e.user),b=(0,c.m8)()(e=>e.subscription),{isSubscriptionActive:v}=(0,p.L)(b),_=v?"Premium":"Free",{isStripeFailed:w,subscribedPriceItem:N,stripeSubscription:j,hasRevenuecatStandardSubscription:k}=(0,p.L)(b),S=null==j?void 0:j.newPriceId,P=["pending_downgrade","pending_upgrade"].includes(null!==(a=null==j?void 0:j.currentStatus)&&void 0!==a?a:""),A=(0,s.mW)(),R=(0,s.wp)(),T=(0,d.m)(e=>e.setChangeToPlan),z=(e,t)=>async()=>{let a={user_plan:e.name,user_plan_period:e.billingInterval,page_name:h};g.log(l.H.mixpanel.add_to_cart.withProperties({...a,email:null==y?void 0:y.email,distinct_id:null==y?void 0:y.id,tokens_amount:e.maxQuantity,amount:e.price,currency:e.currency})),g.log(l.H.clevertap.add_to_cart.withProperties({...a,user_account_status:_,tokens_amount:e.maxQuantity,amount:e.price,currency:e.currency}));try{if(k&&e.name===u.Sz.STANDARD){null==x||x();return}switch(t){case"Subscribe":await A.mutateAsync(e.stripePriceId,{onSuccess:C,onError:I});break;case"Subscribed":w&&await R.mutateAsync(void 0,{onSuccess:C,onError:I});break;case"Downgrade":case"Upgrade":if(w){await A.mutateAsync(e.stripePriceId,{onSuccess:C,onError:I});return}P||T(e)}}catch(e){I("Couldn't redirect to payment page")}};return(0,n.jsx)("div",{className:"mt-[54px] flex w-full flex-col items-center justify-center gap-[18px] lg:flex-row lg:flex-wrap [.modal_&]:mt-6 [.modal_&]:h-full [.modal_&]:gap-4",children:r&&(null===(t=r[f])||void 0===t?void 0:t.map(e=>{let t=P&&S===e.id,{to:a,eventId:r,campaignEventId:l,label:i}=(0,p.H)(e,N,t,k),s=w&&"Subscribed"===i?"Pay Invoice":i;return(0,n.jsx)(E,{btnText:s,subscriptionPlan:e,to:w?void 0:a,isPendingPlanChange:P,isHighlighted:e.isPopular,onClickHandler:y?z(e,i):async()=>(0,m.vK)(e.stripePriceId,1),eventId:{campaignEvent:l||"",normalEvent:r||""}},e.stripePriceId)}))})}},83649:function(e,t,a){a.d(t,{m:function(){return y}});var n=a(57437),r=a(2265),l=a(34468),i=a(80732),s=a(96994),o=a(75942),d=a(85951),c=a(81750),u=a(14125),m=a(24528),p=a(35273);let x=()=>(0,n.jsx)("div",{className:"mt-[74px] text-center font-medium underline",children:"Something went wrong while fetching subscriptions. Please refresh the page."});var f=a(86759);let g=e=>{let{variant:t}=e;return(0,n.jsxs)("div",{className:"mx-auto flex w-fit flex-col items-center justify-center ".concat(t," ").concat("modal"===t?"h-full":""),children:[(0,n.jsx)(f.A,{className:"h-11 w-[208px] rounded-xl bg-neutral-30 transition-colors duration-500 dark:bg-neutral-800 [.modal_&]:min-h-10"}),(0,n.jsx)("div",{className:"mt-[54px] flex w-full flex-col flex-wrap items-center justify-center gap-[18px] lg:flex-row [.modal_&]:h-full [.modal_&]:gap-4",children:Array.from({length:3}).map((e,t)=>(0,n.jsx)(f.A,{className:"h-[577px] w-[350px] gap-[34px] rounded-[18px] bg-neutral-0 shadow-[0px_10px_20px_0px_rgba(0,0,0,0.05)] transition-colors duration-500 dark:bg-neutral-800 dark:shadow-none [.modal_&]:h-[471px] [.modal_&]:w-[262px] [.modal_&]:first:hidden"},"skeleton-card-".concat(t)))})]})},h={WEEKLY:"weekly",YEARLY:"yearly"},y=e=>{var t,a,f;let{revokeActionHandler:y,variant:b="page",trigger:v,triggerVariant:_}=e,{data:w,isLoading:N,isError:j}=(0,o.OJ)(),[k,S]=(0,r.useState)(h.YEARLY),{page:P,source:A}=(0,s.V)(),{aggregator:E}=(0,d.O)(),C=(0,c.m8)()(e=>e.subscription),{stripeSubscription:I,isSubscriptionActive:R}=(0,u.L)(C),T={page_name:P,source:A,user_account_status:R?"Premium":"Free",user_plan:null==I?void 0:null===(a=I.StripePrice)||void 0===a?void 0:null===(t=a.StripeProduct)||void 0===t?void 0:t.name,user_plan_period:null==I?void 0:null===(f=I.StripePrice)||void 0===f?void 0:f.billingInterval};return j?(0,n.jsx)(x,{}):N?(0,n.jsx)(g,{variant:b}):(0,n.jsxs)(l.GenericTab,{value:k,defaultValue:h.YEARLY,onValueChange:S,className:(0,m.cn)("mx-auto flex w-fit flex-col items-center justify-center",b,{"h-full":"modal"===b}),children:[(0,n.jsxs)(l.GenericTabList,{className:"h-11 w-[208px] gap-0 overflow-hidden rounded-xl bg-neutral-30 p-0.5 transition-all duration-500 dark:bg-neutral-800 [.modal_&]:min-h-10",children:[(0,n.jsxs)(l.GenericTabTrigger,{value:h.WEEKLY,onClick:()=>{E.log(i.H.clevertap.click.withProperties({...T,trigger:null==v?void 0:v.weeklyTrigger,variant:_}))},"aria-label":"Weekly",className:"group relative h-10 min-w-[102px] rounded-[11px] bg-transparent text-neutral-80 transition-all duration-500 data-[state=active]:bg-transparent  dark:bg-transparent dark:text-neutral-200 dark:data-[state=active]:bg-transparent [.modal_&]:h-9 [.modal_&]:min-h-9",children:[(0,n.jsx)("span",{className:"absolute h-10 min-w-[102px] translate-x-full rounded-[11px] bg-neutral-0 shadow-[0px_3px_1px_0px_rgba(0,0,0,0.04),0px_3px_8px_0px_rgba(0,0,0,0.12)] transition-all duration-500 group-data-[state=active]:translate-x-0 dark:bg-neutral-700 [.modal_&]:h-9 [.modal_&]:min-h-9"}),(0,n.jsx)("span",{className:"z-10",children:"Weekly"})]}),(0,n.jsxs)(l.GenericTabTrigger,{value:h.YEARLY,onClick:()=>{E.log(i.H.clevertap.click.withProperties({...T,trigger:null==v?void 0:v.yearlyTrigger,variant:_}))},"aria-label":"Yearly",className:"h-10 min-w-[102px] gap-1 rounded-[11px] bg-transparent text-neutral-80 transition-all duration-500 data-[state=active]:bg-transparent dark:bg-transparent dark:text-neutral-200 dark:data-[state=active]:bg-transparent [.modal_&]:h-9 [.modal_&]:min-h-9",children:[(0,n.jsx)("span",{className:"z-10",children:"Yearly"}),(0,n.jsx)("span",{className:"z-10 flex h-5 w-[38px] min-w-[38px] items-center justify-center rounded-md bg-success-500 bg-opacity-[0.15] text-xs font-medium text-success-500 transition-all duration-500 dark:bg-success-400 dark:bg-opacity-[0.15] dark:text-success-400",children:"-75%"})]})]}),(0,n.jsx)(p.X7,{data:w,selectedInterval:k,revokeActionHandler:y})]})}},54361:function(e,t,a){a.d(t,{d:function(){return r}});var n=a(2265);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,a]=(0,n.useState)(e),r=(0,n.useCallback)(()=>a(!1),[]),l=(0,n.useCallback)(()=>a(!0),[]),i=(0,n.useCallback)(()=>a(e=>!e),[]);return{isModalOpen:t,closeModal:r,openModal:l,setIsModalOpen:a,toggleModal:i}}},75942:function(e,t,a){a.d(t,{jk:function(){return z},OB:function(){return I},mW:function(){return O},wN:function(){return M},sm:function(){return R},OJ:function(){return E},sb:function(){return C},wp:function(){return F},YX:function(){return T}});var n,r,l=a(51864),i=a(89565),s=a(11971),o=a(44785),d=a(52479),c=a(52247),u=a(11141),m=a(70778);let p=new u.hE({baseURL:c.v.PAYMENT_API_URL,defaultHeadersGenerator:m.A}),x="/stripe/subscription",f=async e=>{let{data:t}=await p.get("".concat(x,"/recurring"),null==e?void 0:e.requestOptions,{throwOnError:!0});return t},g=async()=>{let{data:e}=await p.get("".concat(x,"/one_time"),null,{throwOnError:!0});return{result:e.result.sort((e,t)=>e.StripePrice[0].minQuantity-t.StripePrice[0].minQuantity)}},h=async e=>{let{data:t}=await p.post("".concat(x,"/update/next-period"),{body:e},{throwOnError:!0});return t},y=async e=>{let{data:t}=await p.post("".concat(x,"/update/immediately"),{body:e},{throwOnError:!0});return t},b=async e=>{let{data:t}=await p.get("".concat(x,"/proration/").concat(e),void 0,{throwOnError:!0});return t},v=async e=>{let{data:t}=await p.post("".concat(x,"/session-expire"),{body:{checkoutSessionId:e}},{throwOnError:!0});return t},_=async e=>{var t,a;let n=null!==(t=o.Z.get(d.Y.CAMPAIGN))&&void 0!==t?t:null,r=null!==(a=o.Z.get(d.Y.TERM))&&void 0!==a?a:null,{data:l}=await p.post("".concat(x,"/checkout"),{params:{priceId:e,quantity:encodeURIComponent(1),...n?{campaign:encodeURIComponent(n)}:{},...r?{term:encodeURIComponent(r)}:{}}},{throwOnError:!0});return l},w=async e=>{let{data:t}=await p.post("".concat(x,"/checkout/top-up"),{params:{priceId:e,quantity:encodeURIComponent(1)}},{throwOnError:!0});return t},N=async()=>{let{data:e}=await p.post("".concat(x,"/billing-portal"),null,{throwOnError:!0});return e};var j=a(81750),k=a(18431);(n=r||(r={})).SUBSCRIPTION_PRODUCT="SubscriptionProduct",n.CALCULATE_PRORATION="CalculateProration",n.TOP_UPS="TopUps";let S={[k.Sz.STANDARD]:{heading:"Whatâ€™s included",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!1,"Early Access to new features":!1}},[k.Sz.PREMIUM]:{heading:"All Professional features, plus",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!0,"Early Access to new features":!0}},[k.Sz.PROFESSIONAL]:{heading:"All Standard features, plus",listings:{"Fast Processing":!0,"All Styles & Models":!0,"Commercial License":!0,"Android Access":!0,"Early Access to new features":!1}}},P=[k.Sz.STANDARD,k.Sz.PREMIUM,k.Sz.PROFESSIONAL],A={[k.Sz.STANDARD]:"For newcomers exploring, with limited features and image generation.",[k.Sz.PREMIUM]:"Seamless Android & Web access, expanded capabilities.",[k.Sz.PROFESSIONAL]:"Serious users for personal/commercial images."},E=()=>(0,l.useQuery)([r.SUBSCRIPTION_PRODUCT],async()=>{let e=(await f()).result.flatMap(e=>e.StripePrice.map(t=>({id:t.id,isPopular:e.name===k.Sz.PREMIUM,billingInterval:t.billingInterval,name:e.name,stripePriceId:t.stripePriceId,price:t.price,priceType:t.priceType,currency:t.currency,offering:S[e.name],description:A[e.name],maxQuantity:t.maxQuantity,minQuantity:t.minQuantity,priceDetails:t.priceDetails}))),t=(0,s.vM)(e,"billingInterval");return(0,s.Xc)(t,e=>(0,s.MR)(e,e=>P.indexOf(e.name)))},{staleTime:36e5}),C=()=>{let e=(0,j.m8)()(e=>e.user);return(0,l.useQuery)([r.TOP_UPS],g,{enabled:!!e,staleTime:36e5})},I=()=>(0,i.useMutation)(h),R=()=>(0,i.useMutation)(v),T=()=>(0,i.useMutation)(y),z=e=>(0,l.useQuery)([r.CALCULATE_PRORATION,e],e=>b(e.queryKey[1]),{enabled:!!e}),O=()=>(0,i.useMutation)(_),M=()=>(0,i.useMutation)(w),F=()=>(0,i.useMutation)(N)},10733:function(e,t,a){a.d(t,{Td:function(){return o},hO:function(){return d}});var n=a(57437),r=a(2265),l=a(39099);let i=e=>(0,l.Ue)(()=>({...e})),s=(0,r.createContext)(null),o=()=>{if(!s)throw Error("useRemoteConfigStoreContext must be used within a RemoteConfigStoreProvider");return(0,r.useContext)(s)},d=e=>{let{initialState:t,children:a}=e,[l]=(0,r.useState)(()=>i(t));return(0,n.jsx)(s.Provider,{value:l,children:a})}},36890:function(e,t,a){a.d(t,{t:function(){return n}});let n=Intl.NumberFormat("en",{notation:"compact"})}}]);